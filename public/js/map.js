function populateCountries(e,t){var o=document.getElementById(e);o.length=0,o.options[0]=new Option("Select Country","-1"),o.selectedIndex=0;for(var i=0;i<country_arr.length;i++)o.options[o.length]=new Option(country_arr[i],country_arr[i])}!function($){function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function parseBoolean(e){switch(String(e).toLowerCase()){case"on":case"true":case"1":case"yes":case"y":return!0;case"off":case"false":case"0":case"no":case"n":return!1;default:return null}}function getStyle(e,t){return res}function safeURL(e){return 0!=e.indexOf("http://")&&0!=e.indexOf("https://")||(e="//"+e.split("://").pop()),e}function extend(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}function MapObject(){this.id=""}function Region(e,t){if(MapObject.call(this),this.node=e,this.nodeType=e[0].tagName,this.id=this.node.attr("id"),this.title=this.node.attr("title"),this.node[0].setAttribute("class","mapsvg-region"),this.svg_style={fill:this.getStyle("fill")},this.svg_style.stroke=this.getStyle("stroke"),_browser.ie){var o=this.getStyle("stroke-width");o="1"==o?1.2:parseFloat(o),this.svg_style={"stroke-width":o.replace("px","")}}else this.node.css({"vector-effect":"non-scaling-stroke"});this.globalOptions=t;var i=t.regions&&t.regions[this.id]?t.regions[this.id]:null;this.disabled=this.getDisabledState(),this.disabled&&this.attr("class",this.attr("class")+" mapsvg-disabled"),this.default_attr={},this.selected_attr={},this.hover_attr={},this.mapsvg_type="region",i&&this.update(i),this.setFill(),this.saveState()}function Marker(e,t){if(!e.id||!e.src)return!1;MapObject.call(this);var o=document.createElementNS("http://www.w3.org/2000/svg","image");o.setAttributeNS(null,"height",e.height),o.setAttributeNS(null,"width",e.width),o.setAttributeNS("http://www.w3.org/1999/xlink","href",e.src),o.setAttributeNS(null,"x",e.x),o.setAttributeNS(null,"y",e.y),o.setAttributeNS(null,"visibility","visible"),o.setAttribute("class","mapsvg-marker"),this.node=$(o),this.src=e.src,this.setId(e.id),this.mapsvg_type="marker",this.x=parseFloat(e.x),this.y=parseFloat(e.y),this.width=parseFloat(e.width),this.height=parseFloat(e.height),this.tooltip=e.tooltip,this.popover=e.popover,this.href=e.href,this.target=e.target,this["default"]={x:this.x,y:this.y,width:this.width,height:this.height},this.geoCoords=e.geoCoords,this.data=e.data}var mapSVG={};MapObject.prototype.getStyle=function(e){if(_p1=this.attr(e))return _p1;if(_p2=this.attr("style")){var t=_p2.split(";"),o=t.filter(function(t){var t=t.trim();if(0===t.indexOf(e))return t});return o.length?o[0].split(":").pop().trim():void 0}return""},MapObject.prototype.getCenter=function(){var e=this.node[0].getBoundingClientRect().left,t=this.node[0].getBoundingClientRect().top,o=this.node[0].getBoundingClientRect().width,i=this.node[0].getBoundingClientRect().height;return[e+o/2,t+i/2]},MapObject.prototype.setTooltip=function(e){this.tooltip=e?e:void 0},MapObject.prototype.setPopover=function(e){this.popover=e?e:void 0},MapObject.prototype.setHref=function(e){if(this.href&&this.node.parent("a").length&&this.node.unwrap(),this.href=e?e:void 0,this.href){var t="http://www.w3.org/1999/xlink",o="http://www.w3.org/2000/svg",i=document.createElementNS(o,"a");i.setAttributeNS(t,"href",this.href),this.target&&i.setAttribute("target",this.target),this.node.wrap($(i))}},MapObject.prototype.setTarget=function(e){if(this.target=e?e:void 0,this.href){var t=this.node.parent("a")[0];this.target?t.setAttribute("target",e):t.removeAttribute("target")}},MapObject.prototype.setData=function(data){if(data){if("string"==typeof data)if("["==data.substr(0,1)||"{"==data.substr(0,1))try{var tmp;eval("tmp = "+data),this.data=tmp}catch(err){var error="MapSVG: Error in Data object for "+this.mapsvg_type+" '"+this.id+"'. Data object was set to empty object {}.";return this.data={},{_error:error}}else this.data=data;else this.data=data;return this.data}this.data=void 0},MapObject.prototype.attr=function(e,t){var o=this.node[0];if("object"==typeof e)$.each(e,function(e,t){"string"!=typeof t&&"number"!=typeof t||o.setAttribute(e,t)});else if("string"!=typeof e||"string"!=typeof t&&"number"!=typeof t){if(void 0==t)return o.getAttribute(e)}else o.setAttribute(e,t)},MapObject.prototype.setId=function(e){return!!e&&(this.id=e,void this.node[0].setAttribute("id",e))},extend(Region,MapObject),Region.prototype.saveState=function(){this.initialState=JSON.stringify(this.getOptions())},Region.prototype.changed=function(){return JSON.stringify(this.getOptions())!=this.initialState},Region.prototype.getOptions=function(){var e={id:this.id,title:this.title,disabled:!!this.disabled||void 0,fill:this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill,tooltip:this.tooltip,popover:this.popover,href:this.href,target:this.target,data:this.data,gaugeValue:this.gaugeValue};return $.each(e,function(t,o){void 0==o&&delete e[t]}),e},Region.prototype.update=function(e){for(var t in e){var o="set"+ucfirst(t);o in this&&this[o](e[t])}},Region.prototype.setFill=function(e){if(e?(regions={},regions[this.id]={fill:e},$.extend(!0,this.globalOptions,{regions:regions})):""==e&&this.globalOptions.regions&&this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill&&delete this.globalOptions.regions[this.id].fill,this.globalOptions.gauge.on&&this.gaugeValue){var t=this.globalOptions.gauge,o=(this.gaugeValue-t.min)/t.maxAdjusted,i={r:Math.round(t.colors.diffRGB.r*o+t.colors.lowRGB.r),g:Math.round(t.colors.diffRGB.g*o+t.colors.lowRGB.g),b:Math.round(t.colors.diffRGB.b*o+t.colors.lowRGB.b),a:Math.round(t.colors.diffRGB.a*o+t.colors.lowRGB.a)};this.default_attr.fill="rgba("+i.r+","+i.g+","+i.b+","+i.a+")"}else this.globalOptions.regions[this.id]&&this.globalOptions.regions[this.id].fill?this.default_attr.fill=this.globalOptions.regions[this.id].fill:this.disabled&&this.globalOptions.colors.disabled?this.default_attr.fill=this.globalOptions.colors.disabled:this.globalOptions.colors.base?this.default_attr.fill=this.globalOptions.colors.base:"none"!=this.svg_style.fill?this.default_attr.fill=this.svg_style.fill?this.svg_style.fill:this.globalOptions.colors.baseDefault:this.default_attr.fill="none";isNumber(this.globalOptions.colors.selected)?this.selected_attr.fill=tinycolor(this.default_attr.fill).lighten(parseFloat(this.globalOptions.colors.selected)).toRgbString():this.selected_attr.fill=this.globalOptions.colors.selected,isNumber(this.globalOptions.colors.hover)?this.hover_attr.fill=tinycolor(this.default_attr.fill).lighten(parseFloat(this.globalOptions.colors.hover)).toRgbString():this.hover_attr.fill=this.globalOptions.colors.hover,this.node.css("fill",this.default_attr.fill),this.fill=this.default_attr.fill,void 0!=this.globalOptions.colors.stroke?this.node.css("stroke",this.globalOptions.colors.stroke):this.node.css("stroke",this.svg_style.stroke)},Region.prototype.setDisabled=function(e){this.disabled=!!e||void 0,e?this.attr("class",this.attr("class")+" mapsvg-disabled"):this.attr("class",this.attr("class").replace(" mapsvg-disabled","")),this.selected=!1,this.setFill()},Region.prototype.setSelected=function(e){},Region.prototype.setGaugeValue=function(e){this.gaugeValue=$.isNumeric(e)?parseFloat(e):void 0},Region.prototype.getDisabledState=function(){return!(!this.globalOptions.regions[this.id]||!this.globalOptions.regions[this.id].disabled&&"none"!=this.svg_style.fill)||!(void 0!=this.globalOptions.regions[this.id]&&!parseBoolean(this.globalOptions.regions[this.id].disabled)||!this.globalOptions.disableAll&&"none"!=this.svg_style.fill&&"labels"!=this.id&&"Labels"!=this.id)},Region.prototype.highlight=function(){this.node.css({fill:this.hover_attr.fill})},Region.prototype.unhighlight=function(){this.node.css({fill:this.default_attr.fill})},Region.prototype.select=function(){this.node.css({fill:this.selected_attr.fill}),this.selected=!0},Region.prototype.deselect=function(){this.node.css({fill:this.default_attr.fill}),this.selected=!1},extend(Marker,MapObject),Marker.prototype.getOptions=function(){var e={id:this.id,tooltip:this.tooltip,popover:this.popover,href:this.href,target:this.target,data:this.data,src:this.src,width:this["default"].width,height:this["default"].height,x:this.x,y:this.y,geoCoords:this.geoCoords};return $.each(e,function(t,o){void 0==o&&delete e[t]}),e},Marker.prototype.setXY=function(e,t){this.x=e,this.y=t,this.node[0].setAttribute("x",e),this.node[0].setAttribute("y",t),this.adjustPosition(this.mapScale)},Marker.prototype.update=function(e,t){for(var o in e){var i="set"+ucfirst(o);i in this&&this[i](e[o],t)}},Marker.prototype.setSrc=function(e,t){if(!e)return!1;e=safeURL(e),t=t||this.mapScale;var o=new Image,i=this;o.onload=function(){i["default"].width=this.width,i["default"].height=this.height,i.x=i.x-(this.width-i.width)/2,i.y=i.y-(this.height-i.height),i.attr({x:i.x,y:i.y,width:this.width,height:this.height}),i.width=this.width,i.height=this.height,i.node[0].setAttributeNS("http://www.w3.org/1999/xlink","href",e),i.adjustPosition(t),i.src=e},o.src=e},Marker.prototype.adjustPosition=function(e){var t=this["default"].width,o=this["default"].height,i=t/2-t/(2*e),n=o-o/e;this.attr("width",t/e),this.attr("height",o/e),this.attr("transform","translate("+i+","+n+")"),this.mapScale=e},Marker.getDefaultCoords=function(e,t,o,i,n){return e=parseFloat(e),t=parseFloat(t),o=parseFloat(o),i=parseFloat(i),e=e+o/(2*n)-o/2,t=t+i/n-i,[e,t]},Marker.prototype.drag=function(e,t,o,i){_this=this,this.ox=this.x,this.oy=this.y,$("body").on("mousemove.drag.mapsvg",function(o){o.preventDefault();var i=mouseCoords(o),n=i.x-e.x,a=i.y-e.y;_this.x=_this.ox+n/t,_this.y=_this.oy+a/t,_this.attr({x:_this.x,y:_this.y})}),$("body").on("mouseup.drag.mapsvg",function(n){n.preventDefault(),_this.undrag();var a=mouseCoords(n),s=a.x-e.x,r=a.y-e.y;_this.x=_this.ox+s/t,_this.y=_this.oy+r/t,_this.attr({x:_this.x,y:_this.y}),o.call(_this),_this.ox==_this.x&&_this.oy==_this.y&&i.call(_this)})},Marker.prototype.undrag=function(){$("body").off(".drag.mapsvg")},Marker.prototype["delete"]=function(){this.href&&this.node.parent("a").empty().remove(),this.node.empty().remove()};var instances={},globalID=0,userAgent=navigator.userAgent.toLowerCase(),scripts=document.getElementsByTagName("script"),myScript=scripts[scripts.length-1].src.split("/");myScript.pop();var pluginJSURL=myScript.join("/")+"/";myScript.pop();var pluginRootURL=myScript.join("/")+"/",touchDevice=userAgent.indexOf("ipad")>-1||userAgent.indexOf("iphone")>-1||userAgent.indexOf("ipod")>-1||userAgent.indexOf("android")>-1,_browser={};if(_browser.ie=(userAgent.indexOf("msie")>-1||userAgent.indexOf("Trident")>-1)&&{},_browser.firefox=userAgent.indexOf("firefox")>-1,String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),touchDevice)var mouseCoords=function(e){return e.touches[0]?{x:e.touches[0].pageX,y:e.touches[0].pageY}:{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}};else var mouseCoords=function(e){return e.pageX?{x:e.pageX,y:e.pageY}:{x:e.clientX+$(document).scrollLeft(),y:e.clientY+$(document).scrollTop()}};var defaults={markerLastID:0,width:null,height:null,lockAspectRatio:!0,loadingText:"Loading map...",colors:{baseDefault:"#000000",background:"#eeeeee",selected:40,hover:20},regions:{},markers:[],viewBox:[],cursor:"default",onClick:null,mouseOver:null,mouseOut:null,beforeLoad:null,afterLoad:null,zoom:{on:!1,limit:[0,10],delta:1.2,buttons:{on:!0,location:"right"}},scroll:{on:!1,limit:!1,background:!1},responsive:!0,tooltips:{mode:"off",on:!1,priority:"local"},popovers:{mode:"off",on:!1,priority:"local"},multiSelect:!1,gauge:{on:!1,labels:{low:"low",high:"high"},colors:{lowRGB:null,highRGB:null,low:"#550000",high:"#ee0000"},min:0,max:0},menu:{on:!1,containerId:"",template:function(e){return'<li><a href="#'+e.id+'">'+(e.title||e.id)+"</a></li>"}}},markerOptions={src:pluginRootURL+"markers/pin1_red.png"};mapSVG=function(e,t){var o;this.methods={mouseCoords:mouseCoords,functionFromString:function(e){var t,o=!1,i=e;if(i.indexOf("{")==-1||i.indexOf("function")==-1||i.indexOf("(")==-1)return{error:"MapSVG user function error: no function body."};var n=i.substring(i.indexOf("{")+1,i.lastIndexOf("}")),a=i.substring(i.indexOf("(")+1,i.indexOf(")"));try{t=new Function(a,n),success=!0}catch(s){o=s}return o?{error:{line:o.line,text:"MapSVG user function error: (line "+o.line+"): "+o.message}}:t},getOptions:function(e,t){var i=$.extend(!0,{},o.options);return i.viewBox=o._viewBox,delete i.markers,e?(i.regions=[],o.regions.forEach(function(e){i.regions.push(e.getOptions())}),i.markers=o.options.markers):(o.regions.forEach(function(e){e.changed()&&(i.regions[e.id]=e.getOptions())}),o.markers.length>0&&(i.markers=[]),o.markers.forEach(function(e){i.markers.push(e.getOptions())})),t&&$.each(i,function(e,t){JSON.stringify(t)==JSON.stringify(defaults[e])&&delete i[e]}),i},update:function(e){for(var t in e)if("regions"==t)$.each(e.regions,function(e,t){var o=i.getRegion(e);o&&o.update(t),void 0!=t.gaugeValue&&(i.updateGaugeMinMax(),i.regionsRedrawColors()),void 0==t.disabled&&void 0==t.color||i.deselectRegion(o)});else if("markers"==t)$.each(e.markers,function(e,t){var o=i.getMarker(e);if(t.geoCoords){if("string"==typeof t.geoCoords&&(t.geoCoords=t.geoCoords.trim().split(","),t.geoCoords=[parseFloat(t.geoCoords[0]),parseFloat(t.geoCoords[1])]),"object"==typeof t.geoCoords&&2==t.geoCoords.length&&$.isNumeric(t.geoCoords[0])&&$.isNumeric(t.geoCoords[1])){var n=i.convertGeoToPixel(t.geoCoords);n[0]=n[0]-o.width/2+.3,n[1]=n[1]-o.height+1.5,o.setXY(n[0],n[1])}}else o&&o.update(t)});else{var o="set"+ucfirst(t);i.hasOwnProperty(o)&&this[o](e[t])}},setTitle:function(e){e&&(o.options.title=e)},setDisableLinks:function(e){e=parseBoolean(e),e?o.$map.on("click.a.mapsvg","a",function(e){e.preventDefault()}):o.$map.off("click.a.mapsvg"),o.disableLinks=e},setLoadingText:function(e){o.options.loadingText=e},setLockAspectRatio:function(e){o.options.lockAspectRatio=parseBoolean(e)},setOnClick:function(e){o.options.onClick=e||void 0},setMouseOver:function(e){o.options.mouseOver=e||void 0},setMouseOut:function(e){o.options.mouseOut=e||void 0},setBeforeLoad:function(e){o.options.beforeLoad=e||void 0},setAfterLoad:function(e){o.options.afterLoad=e||void 0},setMarkerEditHandler:function(e){o.markerEditHandler=e},setRegionEditHandler:function(e){o.regionEditHandler=e},setColors:function(e){$.extend(!0,o.options,{colors:e}),$.each(o.options.colors,function(e,t){null!==t&&""!=t||delete t[e]}),e.background&&o.$map.css({background:o.options.colors.background}),e.hover&&(o.options.colors.hover=e.hover==""+parseInt(e.hover)?parseInt(e.hover):e.hover),e.selected&&(o.options.colors.selected=e.selected==""+parseInt(e.selected)?parseInt(e.selected):e.selected),i.regionsRedrawColors()},setTooltips:function(e){"string"==typeof e.mode&&0==e.mode.indexOf("function")?e.mode=i.functionFromString(e.mode):e.mode||(e.mode="off"),o.options.tooltips.on="off"!=o.options.tooltips.mode,$.extend(!0,o.options,{tooltips:e}),o.mapTip||(o.mapTip=$("<div />").addClass("mapsvg-tooltip"),$("body").append(o.mapTip)),o.tooltipWatchMouseHandler||$("body").on("mousemove.tooltip.mapsvg",function(e){window.m=mouseCoords(e),o.mapTip.css("left",e.clientX+$(window).scrollLeft()).css("top",e.clientY+$(window).scrollTop()+25)})},setPopovers:function(e){"string"==typeof e.mode&&0==e.mode.indexOf("function")?e.mode=i.functionFromString(e.mode):e.mode||(e.mode="off"),$.extend(!0,o.options,{popovers:e}),o.options.popovers.on="off"!=o.options.popovers.mode,o.mapPopover||(o.mapPopover=$("<div />").addClass("mapsvg-popover"),o.mapPopover.closeButton=$('<div class="mapsvg-popover-close">&#10005;</div>'),o.mapPopover.contentDiv=$('<div class="mapsvg-popover-content"></div>'),o.mapPopover.append(o.mapPopover.contentDiv),o.mapPopover.append(o.mapPopover.closeButton),o.mapPopover.css({width:o.options.popovers.width+("auto"==o.options.popovers.width?"":"px"),height:o.options.popovers.height+("auto"==o.options.popovers.height?"":"px")}),o.mapPopover.closeButton.on("click",i.hidePopover),$("body").append(o.mapPopover)),$("body").off(".popover.mapsvg",i.popoverOffHandler),$("body").on("mousedown.popover.mapsvg touchstart.popover.mapsvg",i.popoverOffHandler)},setInitialViewBox:function(e){"string"==typeof e&&(e=e.trim().split(" ")),o._viewBox=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])],o.zoomLevel=0},setViewBox:function(e,t){"string"==typeof e&&(e=e.trim().split(" "));var n=e&&4==e.length?e:o.svgDefault.viewBox,a=parseInt(n[2])!=o.viewBox[2]||parseInt(n[3])!=o.viewBox[3];return o.viewBox=[parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])],e||(o._viewBox=o.viewBox,o._scale=1),o.$svg[0].setAttribute("viewBox",o.viewBox.join(" ")),i.setResponsive(o.options.responsive,!0),a&&!t&&(o.scale=i.getScale(),i.markersAdjustPosition(),_browser.ie&&i.mapAdjustStrokes()),!0},setSize:function(e,t,n){return o.options.width=parseFloat(e),o.options.height=parseFloat(t),o.options.responsive=null!=n?parseBoolean(n):o.options.responsive,o.options.width||o.options.height?!o.options.width&&o.options.height?o.options.width=parseInt(o.options.height*o.svgDefault.width/o.svgDefault.height):o.options.width&&!o.options.height&&(o.options.height=parseInt(o.options.width*o.svgDefault.height/o.svgDefault.width)):(o.options.width=o.svgDefault.width,o.options.height=o.svgDefault.height),o.whRatio=o.options.width/o.options.height,o.scale=i.getScale(),i.setResponsive(n),o.markers&&i.markersAdjustPosition(),[o.options.width,o.options.height]},setResponsive:function(e,t){e=void 0!=e?parseBoolean(e):o.options.responsive,$(window).off("resize.mapsvg"),e?($(window).on("resize.mapsvg",i.updateSize),o.$map.hasClass("mapsvg-responsive")||(o.$map.addClass("mapsvg-responsive"),o.$map.css({width:"auto",height:"auto"}),_browser.ie&&(o.$map.height(o.$map.width()/o.whRatio),$(window).on("resize.mapsvg",function(){o.$map.height(o.$map.width()/o.whRatio)})))):(o.$map.removeClass("mapsvg-responsive"),o.$map.css({width:o.options.width+"px",height:o.options.height+"px"})),$.extend(!0,o.options,{responsive:e})},setScroll:function(e){null!=e.on&&(e.on=parseBoolean(e.on)),null!=e.limit&&(e.limit=parseBoolean(e.limit)),$.extend(!0,o.options,{scroll:e}),i.setEventHandlers()},setZoom:function(e){e=e||{},void 0!=e.on&&(e.on=parseBoolean(e.on)),e.delta&&(e.delta=parseFloat(e.delta)),e.limit&&("string"==typeof e.limit&&(e.limit=e.limit.split(";")),e.limit=[parseInt(e.limit[0]),parseInt(e.limit[1])]),$.extend(!0,o.options,{zoom:e}),o.$map.off("mousewheel.mapsvg"),o.options.zoom.on&&o.$map.on("mousewheel.mapsvg",function(e,t,o,n){var a=t>0?1:-1;return i.zoom(a),!1}),i.setZoomButtons()},setZoomButtons:function(){var e=o.options.zoom.buttons.location||"hide";if(!o.zoomButtons){var t=$("<div />").addClass("mapsvg-buttons");t.zoomIn=$("<div />").addClass("mapsvg-btn-zoom in"),t.zoomIn.on("click",function(e){e.stopPropagation(),i.zoomIn()}),t.zoomOut=$("<div />").addClass("mapsvg-btn-zoom out"),t.zoomOut.on("click",function(e){e.stopPropagation(),i.zoomOut()}),t.append(t.zoomIn).append(t.zoomOut),o.zoomButtons=t,o.$map.append(o.zoomButtons)}"right"==e&&o.zoomButtons.css({right:"15px",left:"auto"})||"left"==e&&o.zoomButtons.css({right:"auto",left:"15px"}),o.options.zoom.on&&"hide"!=e?o.zoomButtons.show():o.zoomButtons.hide()},setCursor:function(e){e="pointer"==e?"pointer":"default",o.options.cursor=e,"pointer"==e?o.$map.addClass("mapsvg-cursor-pointer"):o.$map.removeClass("mapsvg-cursor-pointer")},setPreloaderText:function(e){o.options.loadingText=e},setMultiSelect:function(e){o.options.multiSelect=parseBoolean(e),i.deselectAllRegions()},setGauge:function(e){e=e||o.options.gauge,void 0!=e.on&&(e.on=parseBoolean(e.on)),$.extend(!0,o.options,{gauge:e});var t=!1;if(!o.$gauge){o.$gauge={},o.$gauge.gradient=$("<td>&nbsp;</td>").addClass("mapsvg-gauge-gradient"),i.setGaugeGradientCSS(),o.$gauge.container=$("<div />").addClass("mapsvg-gauge").hide(),o.$gauge.table=$("<table />");var n=$("<tr />");o.$gauge.labelLow=$("<td>"+o.options.gauge.labels.low+"</td>"),o.$gauge.labelHigh=$("<td>"+o.options.gauge.labels.high+"</td>"),n.append(o.$gauge.labelLow),n.append(o.$gauge.gradient),n.append(o.$gauge.labelHigh),o.$gauge.table.append(n),o.$gauge.container.append(o.$gauge.table),o.$map.append(o.$gauge.container)}!o.options.gauge.on&&o.$gauge.container.is(":visible")?(o.$gauge.container.hide(),t=!0):o.options.gauge.on&&!o.$gauge.container.is(":visible")&&(o.$gauge.container.show(),t=!0),e.colors&&(o.options.gauge.colors.lowRGB=tinycolor(o.options.gauge.colors.low).toRgb(),o.options.gauge.colors.highRGB=tinycolor(o.options.gauge.colors.high).toRgb(),o.options.gauge.colors.diffRGB={r:o.options.gauge.colors.highRGB.r-o.options.gauge.colors.lowRGB.r,g:o.options.gauge.colors.highRGB.g-o.options.gauge.colors.lowRGB.g,b:o.options.gauge.colors.highRGB.b-o.options.gauge.colors.lowRGB.b,a:o.options.gauge.colors.highRGB.a-o.options.gauge.colors.lowRGB.a},t=!0,o.$gauge&&i.setGaugeGradientCSS()),e.labels&&(o.$gauge.labelLow.html(o.options.gauge.labels.low),o.$gauge.labelHigh.html(o.options.gauge.labels.high)),t&&i.redrawGauge()},redrawGauge:function(){i.updateGaugeMinMax(),i.regionsRedrawColors()},updateGaugeMinMax:function(){o.options.gauge.min=0,o.options.gauge.max=!1;var e=[];o.regions.forEach(function(t){null!=t.gaugeValue&&void 0!=t.gaugeValue&&e.push(t.gaugeValue)}),e.length>0&&(o.options.gauge.min=1==e.length?0:Math.min.apply(null,e),o.options.gauge.max=Math.max.apply(null,e),o.options.gauge.maxAdjusted=o.options.gauge.max-o.options.gauge.min)},setGaugeGradientCSS:function(){o.$gauge.gradient.css({background:o.options.gauge.colors.low,background:"-moz-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",background:"-webkit-gradient(linear, left top, right top, color-stop(1%,"+o.options.gauge.colors.low+"), color-stop(100%,"+o.options.gauge.colors.high+"))",background:"-webkit-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",background:"-o-linear-gradient(left, "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100% 100%)",background:"-ms-linear-gradient(left,  "+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100% 100%)",background:"linear-gradient(to right,"+o.options.gauge.colors.low+" 1%,"+o.options.gauge.colors.high+" 100%)",filter:'progid:DXImageTransform.Microsoft.gradient( startColorstr="'+o.options.gauge.colors.low+'", endColorstr="'+o.options.gauge.colors.high+'",GradientType=1 )'})},setMenu:function(e){if(e=e||o.options.menu,void 0!=e.on&&(e.on=parseBoolean(e.on)),$.extend(!0,o.options,{menu:e}),o.$menu&&o.$menu.off("click.menu.mapsvg"),o.options.menu.on){var t=$("#"+o.options.menu.containerId);t.length&&(o.$menu||(t.is("ul")?o.$menu=t:o.$menu=$("<ul />").appendTo(t),o.$menu.hasClass("mapsvg-menu")||o.$menu.addClass("mapsvg-menu")),0===o.$menu.children().length&&o.regions.forEach(function(e,t){e.disabled||o.$menu.append(o.options.menu.template(e))}),o.$menu.on("click.menu.mapsvg","a",function(e){e.preventDefault();var t=$(this).attr("href"),o=i.getRegion(t),n=o.getCenter();e={clientX:n[0],clientY:n[1]},i.regionClickHandler(e,o)}).on("mouseover.menu.mapsvg","a",function(e){var t=$(this).attr("href").replace("#",""),o=i.getRegion(t);o.selected||o.highlight()}).on("mouseout.menu.mapsvg","a",function(e){var t=$(this).attr("href"),o=i.getRegion(t);o.selected||o.unhighlight()}))}},getRegion:function(e){return o.regions[o.regionsDict[e]]},getMarker:function(e){return o.markers[o.markersDict[e]]},checkId:function(e){return i.getRegion(e)?{error:"This ID is already used by a Region"}:!i.getMarker(e)||{error:"This ID is already used by another Marker"}},regionsRedrawColors:function(){o.regions.forEach(function(e){e.setFill()})},destroy:function(){return delete instances[o.$map.attr("id")],o.$map.empty(),i},getData:function(){return o},getScale:function(){var e,t=(o.svgDefault.width/o.svgDefault.height,o.options.width/o.options.height,[o.$map.width(),o.$map.height()]);return e=t[0]/o.viewBox[2]},updateSize:function(){o.scale=i.getScale(),i.markersAdjustPosition(),_browser.ie&&i.mapAdjustStrokes()},getViewBox:function(){return o.viewBox},viewBoxSetBySize:function(e,t){return o._viewBox=i.viewBoxGetBySize(e,t),o.options.width=parseFloat(e),o.options.height=parseFloat(t),i.setViewBox(o._viewBox,!0),o.whRatio=o.viewBox[2]/o.viewBox[3],o.options.responsive||i.setResponsive(),o.viewBox},viewBoxGetBySize:function(e,t){var i=e/t,n=o.svgDefault.viewBox[2]/o.svgDefault.viewBox[3],a=$.extend([],o.svgDefault.viewBox);return i!=n&&(i>n?(a[2]=o.svgDefault.viewBox[3]*i,a[0]=o.svgDefault.viewBox[0]-(a[2]-o.svgDefault.viewBox[2])/2):(a[3]=o.svgDefault.viewBox[2]/i,a[1]=o.svgDefault.viewBox[1]-(a[3]-o.svgDefault.viewBox[3])/2)),a},viewBoxReset:function(e){if(e){var t=o._viewBox||o.svgDefault.viewBox;o.zoomLevel=0,o._scale=1,i.setViewBox(t)}else i.setViewBox()},getGeoViewBox:function(){var e=o.viewBox,t=i.convertPixelToGeo(e[0],e[1])[1],n=i.convertPixelToGeo(e[0]+e[2],e[1])[1],a=i.convertPixelToGeo(e[0],e[1])[0],s=i.convertPixelToGeo(e[0],e[1]+e[3])[0];return[t,a,n,s]},mapAdjustStrokes:function(){o.regions.forEach(function(e){e.svg_style["stroke-width"]&&e.node.css("stroke-width",e.svg_style["stroke-width"]/o.scale)})},zoomIn:function(){i.zoom(1)},zoomOut:function(){i.zoom(-1)},touchZoomStart:function(e){touchZoomStart=o._scale,o.scale=o.scale*zoom_k,zoom=o._scale,o._scale=o._scale*zoom_k;var t=o.viewBox[2],n=o.viewBox[3],a=[];a[2]=o._viewBox[2]/o._scale,a[3]=o._viewBox[3]/o._scale,a[0]=o.viewBox[0]+(t-a[2])/2,a[1]=viewBox[1]+(n-a[3])/2,i.setViewBox(a)},touchZoomMove:function(){},touchZoomEnd:function(){},zoom:function(e,t){var n=o.viewBox[2],a=o.viewBox[3],s=[];if(t)o._scale=t,s[2]=o.touchZoomStartViewBox[2]/o._scale,s[3]=o.touchZoomStartViewBox[3]/o._scale;else{var r=e>0?1:-1;if(o._zoomLevel=o.zoomLevel,o._zoomLevel+=r,o._zoomLevel>o.options.zoom.limit[1]||o._zoomLevel<o.options.zoom.limit[0])return!1;o.zoomLevel=o._zoomLevel;var l=r*o.options.zoom.delta;l<1&&(l=-1/l),o._scale=o._scale*l,s[2]=o._viewBox[2]/o._scale,s[3]=o._viewBox[3]/o._scale}s[0]=o.viewBox[0]+(n-s[2])/2,s[1]=o.viewBox[1]+(a-s[3])/2,i.setViewBox(s)},markerDelete:function(e){var t=e.id;o.markers.splice(o.markersDict[t],1);e["delete"](),e=null,i.updateMarkersDict(),0==o.markers.length&&(o.options.markerLastID=0)},markerAdd:function(e,t){var o=$.extend(!0,{},markerOptions,e);if(!o.src)return!1;if(o.src=safeURL(o.src),o.width&&o.height)return i.markerAddFinalStep(o,t);var n=new Image;n.onload=function(){return o.width=this.width,o.height=this.height,i.markerAddFinalStep(o,t)},n.src=o.src},markerAddFinalStep:function(e,t){if(e.xy||isNumber(e.x)&&isNumber(e.y))xy=e.xy||[e.x,e.y],t&&(xy[0]+=o.scale<1?1:2,xy[1]+=1,xy[0]=xy[0]/o.scale-e.width/2+o.viewBox[0],xy[1]=xy[1]/o.scale-e.height+o.viewBox[1]);else{if(!e.geoCoords)return!1;xy=i.convertGeoToPixel(e.geoCoords),xy[0]=xy[0]-e.width/2+.3,xy[1]=xy[1]-e.height+1.5}e.x=xy[0],e.y=xy[1],e.id=e.id||"marker_"+o.options.markerLastID++,!e.geoCoords&&o.mapIsGeo&&(e.geoCoords=i.convertPixelToGeo(e.x+e.width/2,e.y+(e.height-1)));var n=new Marker(e,o.scale);return o.$svg.append(n.node),n.href&&n.setHref(n.href),n.adjustPosition(o.scale),o.markers.push(n),o.markersDict[n.id]=o.markers.length-1,t&&o.markerEditHandler&&o.markerEditHandler.call(n),n},markersAdjustPosition:function(){o.markers.forEach(function(e){e.adjustPosition(o.scale)})},markerMoveStart:function(){this.data("ox",parseFloat(this.attr("x"))),this.data("oy",parseFloat(this.attr("y")))},markerMove:function(e,t){e/=o.scale,t/=o.scale,this.attr({x:this.data("ox")+e,y:this.data("oy")+t})},markerMoveEnd:function(){this.data("ox")==this.attr("x")&&this.data("oy")==this.attr("y")&&t.markerEditHandler.call(this)},scrollStart:function(e,t){if($(e.target).hasClass("mapsvg-btn-zoom")||$(e.target).closest(".mapsvg-gauge").length)return!1;if(o.editMarkers.on&&"mapsvg-marker"==$(e.target).attr("class"))return!1;e.preventDefault();var n=e.touches&&e.touches[0]?e.touches[0]:e;o.scroll={},o.scroll.vxi=o.viewBox[0],o.scroll.vyi=o.viewBox[1],o.scroll.x=n.clientX,o.scroll.y=n.clientY,o.scroll.dx=0,o.scroll.dy=0,o.scroll.vx=0,o.scroll.vy=0,$("body").on("mousemove.scroll.mapsvg",i.scrollMove).on("mouseup.scroll.mapsvg",function(e){i.scrollEnd(e,t)})},scrollMove:function(e){e.preventDefault(),o.isScrolling=!0,$("body").css({cursor:"move"});var t=e.touches&&e.touches[0]?e.touches[0]:e;o.scroll.dx=o.scroll.x-t.clientX,o.scroll.dy=o.scroll.y-t.clientY;var n=parseInt(o.scroll.vxi+o.scroll.dx/o.scale),a=parseInt(o.scroll.vyi+o.scroll.dy/o.scale);o.options.scroll.limit&&(n<o.svgDefault.viewBox[0]?n=o.svgDefault.viewBox[0]:o.viewBox[2]+n>o.svgDefault.viewBox[2]&&(n=o.svgDefault.viewBox[2]-o.viewBox[2]),a<o.svgDefault.viewBox[1]?a=o.svgDefault.viewBox[1]:o.viewBox[3]+a>o.svgDefault.viewBox[3]&&(a=o.svgDefault.viewBox[3]-o.viewBox[3])),o.scroll.vx=n,o.scroll.vy=a,i.setViewBox([o.scroll.vx,o.scroll.vy,o.viewBox[2],o.viewBox[3]])},scrollEnd:function(e,t){o.isScrolling=!1,Math.abs(o.scroll.dx)<5&&Math.abs(o.scroll.dy)<5&&(o.editMarkers.on?i.markerAddClickHandler(e):o.region_clicked&&i.regionClickHandler(e,o.region_clicked)),$("body").css({cursor:"default"}),o.viewBox[0]=o.scroll.vx||o.viewBox[0],o.viewBox[1]=o.scroll.vy||o.viewBox[1],t.getData().$map.css("pointer-events","auto"),$("body").off(".scroll.mapsvg")},scrollRegionClickHandler:function(e,t){o.region_clicked=t},touchStart:function(e,t){e.preventDefault(),o.options.zoom&&e.touches&&2==e.touches.length?(o.touchZoomStartViewBox=o.viewBox,o.touchZoomStart=o.scale,o.touchZoomEnd=1):(i.scrollStart(e,t),o.isScrolling=!0)},touchMove:function(e){e.preventDefault(),o.options.zoom&&e.touches&&e.touches.length>=2?(i.zoom(null,e.scale),o.isScrolling=!1):o.isScrolling&&i.scrollMove(e)},touchEnd:function(e){e.preventDefault(),o.touchZoomStart?(o.touchZoomStart=!1,o.touchZoomEnd=!1):o.isScrolling&&i.scrollEnd(e)},markersGroupHide:function(e){for(var t in o.markers[e])o.markers[e][t].hide()},markersGroupShow:function(e){for(var t in o.markers[e])o.markers[e][t].show()},regionsGroupSelect:function(e){for(var t in o.markers[e])o.markers[e][t].hide()},regionsGroupUnselect:function(e){for(var t in o.markers[e])o.markers[e][t].show()},markersGet:function(){return o.markers},getSelected:function(){return o.selected_id},selectRegion:function(e){var t=i.getRegion(e);if(!t||t.disabled)return!1;if(o.options.multiSelect&&!o.editRegions.on){if(t.selected)return void i.deselectRegion(t)}else o.selected_id.length>0&&i.deselectRegion();o.selected_id.push(e),t.select()},deselectAllRegions:function(){$.each(o.selected_id,function(e,t){i.deselectRegion(i.getRegion(t))})},deselectRegion:function(e){e||(e=i.getRegion(o.selected_id[0])),e.deselect();var t=$.inArray(e.id,o.selected_id);o.selected_id.splice(t,1),_browser.ie&&i.mapAdjustStrokes()},selectRegionsGroup:function(e){for(var t in o.regionGroups[e]){var n=o.regionGroups[e][t].id;i.selectRegion(n)}},highlightRegionsGroup:function(e){for(var t in o.regionGroups[e]){var n=o.regionGroups[e][t].id;i.highlightRegion(n)}},unhighlightRegionsGroup:function(e){for(var t in o.regionGroups[e]){var n=o.regionGroups[e][t].id;i.unhighlightRegion(n)}},narrowToRegionsGroup:function(e){o.regions.forEach(function(t){t.group==e||t.disabled?t.disabledTemp&&(t.disabledTemp=!1,t.disabled=!1,$(t.node).removeClass("mapsvg-disabled")):(t.disabled=!0,t.disabledTemp=!0,$(t.node).addClass("mapsvg-disabled"))})},disableRegionsGroup:function(e){},enableAllRegionsGroups:function(){o.regions.forEach(function(e){e.disabledTemp&&(e.disabledTemp=!1,e.disabled=!1,$(e.node).removeClass("mapsvg-disabled"))})},convertGeoToPixel:function(e){var t=parseFloat(e[0]),i=parseFloat(e[1]),n=(i-o.geoViewBox.leftLon)*(o.svgDefault.width/o.mapLonDelta),t=3.14159*t/180,a=o.svgDefault.width/o.mapLonDelta*360/6.28318,s=a/2*Math.log((1+Math.sin(o.mapLatBottomDegree))/(1-Math.sin(o.mapLatBottomDegree))),r=o.svgDefault.height-(a/2*Math.log((1+Math.sin(t))/(1-Math.sin(t)))-s);
return n+=o.svgDefault.viewBox[0],r+=o.svgDefault.viewBox[1],[n,r]},convertPixelToGeo:function(e,t){e-=o.svgDefault.viewBox[0],t-=o.svgDefault.viewBox[1];var i=o.svgDefault.width/o.mapLonDelta*360/(2*Math.PI),n=i/2*Math.log((1+Math.sin(o.mapLatBottomDegree))/(1-Math.sin(o.mapLatBottomDegree))),a=o.svgDefault.height+n,s=(a-t)/i,r=180/Math.PI*(2*Math.atan(Math.exp(s))-Math.PI/2),l=o.geoViewBox.leftLon+e/o.svgDefault.width*o.mapLonDelta;return[r,l]},pickGaugeColor:function(e){var t=(e-o.options.gauge.min)/o.options.gauge.maxAdjusted,i=[Math.round(o.options.gauge.colors.diffRGB.r*t+o.options.gauge.colors.lowRGB.r),Math.round(o.options.gauge.colors.diffRGB.g*t+o.options.gauge.colors.lowRGB.g),Math.round(o.options.gauge.colors.diffRGB.b*t+o.options.gauge.colors.lowRGB.b),Math.round(o.options.gauge.colors.diffRGB.a*t+o.options.gauge.colors.lowRGB.a)];return i},isRegionDisabled:function(e,t){return!(!o.options.regions[e]||!o.options.regions[e].disabled&&"none"!=t)||!(void 0!=o.options.regions[e]&&!parseBoolean(o.options.regions[e].disabled)||!o.options.disableAll&&"none"!=t&&"labels"!=e&&"Labels"!=e)},regionClickHandler:function(e,t){if(!t||t.disabled)return!1;if(o.region_clicked=null,"region"==t.mapsvg_type&&i.selectRegion(t.id),o.editRegions.on)return void o.regionEditHandler.call(t);i.hidePopover();var n=i.getPopoverBody(t);return n&&i.showPopover(e,n),o.options.onClick?o.options.onClick.call(t,e,i):void(touchDevice&&t.href&&!o.disableLinks&&(window.location.href=t.href))},fileExists:function(e){if("data"==e.substr(0,4))return!0;var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!=t.status},getStyle:function(e,t){if(e.currentStyle)var o=e.currentStyle.margin;else if(window.getComputedStyle)if(window.getComputedStyle.getPropertyValue)var o=window.getComputedStyle(e,null).getPropertyValue(t);else var o=window.getComputedStyle(e)[t];return o},search:function(e){return results=[],e=e.toLowerCase(),o.regions.forEach(function(t){(0===t.id.toLowerCase().indexOf(e)||t.title&&0===t.title.toLowerCase().indexOf(e))&&results.push(t.id)}),results},searchMarkers:function(e){return results=[],e=e.toLowerCase(),o.markers.forEach(function(t){0===t.id.toLowerCase().indexOf(e)&&results.push(t.id)}),results},markerAddClickHandler:function(e){if($(e.target).is("image"))return!1;var t=mouseCoords(e),n=t.x-o.$map.offset().left,a=t.y-o.$map.offset().top;return!(!$.isNumeric(n)||!$.isNumeric(a))&&void i.markerAdd({xy:[n,a],group:o.editMarkers.group},!0)},setMarkersEditMode:function(e){o.editMarkers.on=parseBoolean(e),i.deselectAllRegions(),i.setEventHandlers()},setRegionsEditMode:function(e){o.editRegions.on=parseBoolean(e),i.deselectAllRegions(),i.setEventHandlers()},setMarkers:function(e){$.each(e,function(e,t){i.markerAdd(t)})},setEventHandler:function(){},runUserFunction:function(e){try{e()}catch(t){}},showTooltip:function(e){if(e.disabled)return!1;var t;t="global"==o.options.tooltips.priority?"function"==typeof o.options.tooltips.mode&&o.options.tooltips.mode.call(e,o.mapTip,e,i)||"off"!=o.options.tooltips.mode&&e[o.options.tooltips.mode]||e.tooltip:e.tooltip||"function"==typeof o.options.tooltips.mode&&o.options.tooltips.mode.call(e,o.mapTip,e,i)||"off"!=o.options.tooltips.mode&&e[o.options.tooltips.mode],t&&(o.mapTip.html(t),o.mapTip.addClass("mapsvg-tooltip-visible"))},getPopoverBody:function(e){var t;return t="global"==o.options.popovers.priority?"function"==typeof o.options.popovers.mode?o.options.popovers.mode.call(e,o.mapPopover,e,i):e.popover:e.popover||("function"==typeof o.options.popovers.mode?o.options.popovers.mode.call(e,o.mapPopover,e,i):null)},showPopover:function(e,t,n){if(n&&2==n.length){var a=i.getScale();n[0]=o.$map.offset().left+n[0]*a,n[1]=o.$map.offset().top+n[1]*a}else var s=mouseCoords(e),n=[s.x,s.y];if(t){o.mapPopover.contentDiv.html(t);var r=n[0]-o.mapPopover.outerWidth(!1)/2,l=n[1]-o.mapPopover.outerHeight(!1)-14;r<0&&(r=0),l<0&&(l=0),o.mapPopover.css("left",r).css("top",l),o.mapPopover.addClass("mapsvg-popover-visible")}else o.mapPopover.removeClass("mapsvg-popover-visible")},hidePopover:function(){o.mapPopover.contentDiv.empty(),o.mapPopover.removeClass("mapsvg-popover-visible"),$("body").off("mousedown.popover.mapsvg",i.popoverOffHandler),o.options.onPopoverClose&&o.options.onPopoverClose.call(i)},hideTip:function(){o.mapTip.removeClass("mapsvg-tooltip-visible")},popoverOffHandler:function(e){return!$(e.target).closest(".mapsvg-popover").length&&void i.hidePopover()},mouseOverHandler:function(e){return this instanceof Region&&(this.selected||this.highlight()),i.showTooltip(this),o.options.mouseOver&&o.options.mouseOver.call(this,e,i)},mouseOutHandler:function(e){return this instanceof Region&&(this.selected||this.unhighlight()),i.hideTip(),o.options.mouseOut&&o.options.mouseOut.call(this,e,i)},updateOptions:function(e){$.extend(!0,o.options,e)},updateMarkersDict:function(){o.markersDict={},o.markers.forEach(function(e,t){o.markersDict[e.id]=t})},setEventHandlers:function(){if(o.$map.off(".common.mapsvg"),o.editMarkers.on){var e=touchDevice?"touchstart.common.mapsvg":"mousedown.common.mapsvg";o.$map.on(e,".mapsvg-marker",function(e){e.originalEvent.preventDefault();var t=i.getMarker($(this).attr("id")),n=mouseCoords(e);t.drag(n,o.scale,function(){o.mapIsGeo&&(this.geoCoords=i.convertPixelToGeo(this.x+this.width/2,this.y+(this.height-1))),o.markerEditHandler.call(this,!0)},function(){o.markerEditHandler.call(this)})})}if(touchDevice||(o.editMarkers.on||o.$map.on("mouseover.common.mapsvg",".mapsvg-region",function(e){var o=$(this).attr("id");i.mouseOverHandler.call(i.getRegion(o),e,i,t)}).on("mouseleave.common.mapsvg",".mapsvg-region",function(e){var o=$(this).attr("id");i.mouseOutHandler.call(i.getRegion(o),e,i,t)}),o.editRegions.on||o.$map.on("mouseover.common.mapsvg",".mapsvg-marker",function(e){var o=$(this).attr("id");i.mouseOverHandler.call(i.getMarker(o),e,i,t)}).on("mouseleave.common.mapsvg",".mapsvg-marker",function(e){var o=$(this).attr("id");i.mouseOutHandler.call(i.getMarker(o),e,i,t)})),o.options.scroll.on){var n=touchDevice?"touchstart.common.mapsvg":"mousedown.common.mapsvg";o.$map.on(n,".mapsvg-region",function(e){e.preventDefault();var t=i.getRegion($(this).attr("id"));i.scrollRegionClickHandler.call(i,e,t)}),o.$map.on(n,".mapsvg-marker",function(e){e.preventDefault();var t=i.getMarker($(this).attr("id"));i.scrollRegionClickHandler.call(i,e,t)}),touchDevice?o.$map.on("touchstart.common.mapsvg",function(e){i.touchStart(e,i)}).on("touchmove.common.mapsvg",i.touchMove).on("touchend.common.mapsvg",i.touchEnd):o.$map.on("mousedown.common.mapsvg",function(e){i.scrollStart(e,i)})}else{var n=touchDevice?"touchstart.common.mapsvg":"click.common.mapsvg";o.editMarkers.on?o.$map.on(n,function(e){i.markerAddClickHandler(e)}):(o.$map.on(n,".mapsvg-region",function(e){i.regionClickHandler.call(i,e,i.getRegion($(this).attr("id")))}),o.$map.on(n,".mapsvg-marker",function(e){i.regionClickHandler.call(i,e,i.getMarker($(this).attr("id")))}))}},init:function(e,t){if(!e.source)return alert("mapSVG Error: Please provide a map URL"),!1;if(e.beforeLoad)try{e.beforeLoad.call(i)}catch(n){}0!=e.source.indexOf("http://")&&0!=e.source.indexOf("https://")||(e.source="//"+e.source.split("://").pop()),o={},o.options=$.extend(!0,{},defaults,e),o.editRegions={on:!1},o.editMarkers={on:!1},o.map=t,o.$map=$(t),o.whRatio=0,o.isScrolling=!1,o.markerOptions={},o.svgDefault={},o.refLength=0,o.scale=1,o._scale=1,o.selected_id=[],o.mapData={},o.regions=[],o.regionsDict={},o.markers=[],o.markersDict={},o._viewBox=[],o.viewBox=[],o.viewBoxZoom=[],o.viewBoxFind=void 0,o.zoomLevel=0,o.scroll={},o.geoCoordinates=!1,o.geoViewBox={leftLon:0,topLat:0,rightLon:0,bottomLat:0},o.$map.addClass("mapsvg").css("background",o.options.colors.background);var a=$("<div>"+o.options.loadingText+"</div>").addClass("mapsvg-loading");return o.$map.append(a),a.css({"margin-left":function(){return-($(this).outerWidth(!1)/2)+"px"},"margin-top":function(){return-($(this).outerHeight(!1)/2)+"px"}}),$.ajax({url:o.options.source,success:function(e){$data=$(e);var t=$data.find("svg");o.$svg=t,o.svgDefault.width=parseFloat(t.attr("width").replace(/px/g,"")),o.svgDefault.height=parseFloat(t.attr("height").replace(/px/g,"")),o.svgDefault.viewBox=t.attr("viewBox")?t.attr("viewBox").split(" "):[0,0,o.svgDefault.width,o.svgDefault.height],o.viewBoxShift=t.attr("mapsvg:viewBoxShift")||null,o.viewBoxShift&&(o.viewBoxShift=o.viewBoxShift.split(" "));var n=t.attr("mapsvg:geoViewBox");if(n&&(n=n.split(" "),4==n.length)){o.mapIsGeo=!0,o.geoCoordinates=!0;var s=t.attr("mapsvg:calibratedViewBox");o.geoViewBox={leftLon:parseFloat(n[0]),topLat:parseFloat(n[1]),rightLon:parseFloat(n[2]),bottomLat:parseFloat(n[3])},o.mapLonDelta=o.geoViewBox.rightLon-o.geoViewBox.leftLon,o.mapLatBottomDegree=3.14159*o.geoViewBox.bottomLat/180}$.each(o.svgDefault.viewBox,function(e,t){o.svgDefault.viewBox[e]=parseInt(t)}),o._viewBox=4==o.options.viewBox.length&&o.options.viewBox||o.svgDefault.viewBox,!o.viewBoxShift||o.options.width||o.options.height||0!=o.options.viewBox.length||(o.options.width=o.viewBoxShift[2],o.options.width=o.viewBoxShift[3]),$.each(o._viewBox,function(e,t){o._viewBox[e]=parseFloat(t)}),t.attr("preserveAspectRatio","xMidYMid meet"),t.attr("width","100%"),t.attr("height","100%"),o.$svg.find("path, polygon, circle, ellipse, rect").each(function(e){var t,i=$(this).attr("id");o.options.regions&&o.options.regions[i]&&(t=o.options.regions[i]);var n=new Region($(this),o.options);o.regions.push(n),o.regionsDict[i]=e}),i.setSize(o.options.width,o.options.height,o.options.responsive),o.$map.append(t);var s=o._viewBox;i.setViewBox(s),o.$map.append(o.$svgStretcher),i.setGauge();var r=o.options.markers||o.options.marks||[];i.setMarkers(r),i.setScroll(o.options.scroll),i.setZoom(o.options.zoom),o.options.tooltipsMode&&(o.options.tooltips.mode=o.options.tooltipsMode),i.setTooltips(o.options.tooltips),o.options.popover&&(o.options.popovers=o.options.popover),i.setPopovers(o.options.popovers),o.options.cursor&&i.setCursor(o.options.cursor),_browser.ie&&i.mapAdjustStrokes(),$(document).ready(function(){i.setMenu()}),i.setEventHandlers(),$("#"+o.$map.attr("id")+" [title]").each(function(){this.removeAttribute("title")}),$("#"+o.$map.attr("id")+" title").remove(),a.hide(),o.options.afterLoad&&o.options.afterLoad.call(i),i.updateSize()}}),i}};var i=this.methods},$.fn.mapSvg=function(e){var t=$(this).attr("id");return"object"==typeof e&&void 0===instances[t]?(instances[t]=new mapSVG(this,e),instances[t].methods.init(e,this)):instances[t]?instances[t].methods:instances}}(jQuery),function(e){function t(e,i){if(e=e?e:"",i=i||{},e instanceof t)return e;if(!(this instanceof t))return new t(e,i);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=T(100*this._a)/100,this._format=i.format||n.format,this._gradientType=i.gradientType,this._r<1&&(this._r=T(this._r)),this._g<1&&(this._g=T(this._g)),this._b<1&&(this._b=T(this._b)),this._ok=n.ok,this._tc_id=P++}function o(e){var t={r:0,g:0,b:0},o=1,n=!1,s=!1;return"string"==typeof e&&(e=I(e)),"object"==typeof e&&(L(e.r)&&L(e.g)&&L(e.b)?(t=i(e.r,e.g,e.b),n=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):L(e.h)&&L(e.s)&&L(e.v)?(e.s=D(e.s),e.v=D(e.v),t=r(e.h,e.s,e.v),n=!0,s="hsv"):L(e.h)&&L(e.s)&&L(e.l)&&(e.s=D(e.s),e.l=D(e.l),t=a(e.h,e.s,e.l),n=!0,s="hsl"),e.hasOwnProperty("a")&&(o=e.a)),o=B(o),{ok:n,format:e.format||s,r:E(255,N(t.r,0)),g:E(255,N(t.g,0)),b:E(255,N(t.b,0)),a:o}}function i(e,t,o){return{r:255*$(e,255),g:255*$(t,255),b:255*$(o,255)}}function n(e,t,o){e=$(e,255),t=$(t,255),o=$(o,255);var i,n,a=N(e,t,o),s=E(e,t,o),r=(a+s)/2;if(a==s)i=n=0;else{var l=a-s;switch(n=r>.5?l/(2-a-s):l/(a+s),a){case e:i=(t-o)/l+(t<o?6:0);break;case t:i=(o-e)/l+2;break;case o:i=(e-t)/l+4}i/=6}return{h:i,s:n,l:r}}function a(e,t,o){function i(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}var n,a,s;if(e=$(e,360),t=$(t,100),o=$(o,100),0===t)n=a=s=o;else{var r=o<.5?o*(1+t):o+t-o*t,l=2*o-r;n=i(l,r,e+1/3),a=i(l,r,e),s=i(l,r,e-1/3)}return{r:255*n,g:255*a,b:255*s}}function s(e,t,o){e=$(e,255),t=$(t,255),o=$(o,255);var i,n,a=N(e,t,o),s=E(e,t,o),r=a,l=a-s;if(n=0===a?0:l/a,a==s)i=0;else{switch(a){case e:i=(t-o)/l+(t<o?6:0);break;case t:i=(o-e)/l+2;break;case o:i=(e-t)/l+4}i/=6}return{h:i,s:n,v:r}}function r(t,o,i){t=6*$(t,360),o=$(o,100),i=$(i,100);var n=e.floor(t),a=t-n,s=i*(1-o),r=i*(1-a*o),l=i*(1-(1-a)*o),u=n%6,p=[i,r,s,s,l,i][u],c=[l,i,i,r,s,s][u],d=[s,s,l,i,i,r][u];return{r:255*p,g:255*c,b:255*d}}function l(e,t,o,i){var n=[A(T(e).toString(16)),A(T(t).toString(16)),A(T(o).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function u(e,t,o,i){var n=[A(O(i)),A(T(e).toString(16)),A(T(t).toString(16)),A(T(o).toString(16))];return n.join("")}function p(e,o){o=0===o?0:o||10;var i=t(e).toHsl();return i.s-=o/100,i.s=S(i.s),t(i)}function c(e,o){o=0===o?0:o||10;var i=t(e).toHsl();return i.s+=o/100,i.s=S(i.s),t(i)}function d(e){return t(e).desaturate(100)}function g(e,o){o=0===o?0:o||10;var i=t(e).toHsl();return i.l+=o/100,i.l=S(i.l),t(i)}function h(e,o){o=0===o?0:o||10;var i=t(e).toRgb();return i.r=N(0,E(255,i.r-T(255*-(o/100)))),i.g=N(0,E(255,i.g-T(255*-(o/100)))),i.b=N(0,E(255,i.b-T(255*-(o/100)))),t(i)}function f(e,o){o=0===o?0:o||10;var i=t(e).toHsl();return i.l-=o/100,i.l=S(i.l),t(i)}function m(e,o){var i=t(e).toHsl(),n=(i.h+o)%360;return i.h=n<0?360+n:n,t(i)}function v(e){var o=t(e).toHsl();return o.h=(o.h+180)%360,t(o)}function b(e){var o=t(e).toHsl(),i=o.h;return[t(e),t({h:(i+120)%360,s:o.s,l:o.l}),t({h:(i+240)%360,s:o.s,l:o.l})]}function w(e){var o=t(e).toHsl(),i=o.h;return[t(e),t({h:(i+90)%360,s:o.s,l:o.l}),t({h:(i+180)%360,s:o.s,l:o.l}),t({h:(i+270)%360,s:o.s,l:o.l})]}function y(e){var o=t(e).toHsl(),i=o.h;return[t(e),t({h:(i+72)%360,s:o.s,l:o.l}),t({h:(i+216)%360,s:o.s,l:o.l})]}function x(e,o,i){o=o||6,i=i||30;var n=t(e).toHsl(),a=360/i,s=[t(e)];for(n.h=(n.h-(a*o>>1)+720)%360;--o;)n.h=(n.h+a)%360,s.push(t(n));return s}function k(e,o){o=o||6;for(var i=t(e).toHsv(),n=i.h,a=i.s,s=i.v,r=[],l=1/o;o--;)r.push(t({h:n,s:a,v:s})),s=(s+l)%1;return r}function _(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[e[o]]=o);return t}function B(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function $(t,o){C(t)&&(t="100%");var i=M(t);return t=E(o,N(0,parseFloat(t))),i&&(t=parseInt(t*o,10)/100),e.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function S(e){return E(1,N(0,e))}function R(e){return parseInt(e,16)}function C(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function M(e){return"string"==typeof e&&e.indexOf("%")!=-1}function A(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function O(t){return e.round(255*parseFloat(t)).toString(16)}function G(e){return R(e)/255}function L(e){return!!Z.CSS_UNIT.exec(e)}function I(e){e=e.replace(z,"").replace(F,"").toLowerCase();var t=!1;if(V[e])e=V[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var o;return(o=Z.rgb.exec(e))?{r:o[1],g:o[2],b:o[3]}:(o=Z.rgba.exec(e))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=Z.hsl.exec(e))?{h:o[1],s:o[2],l:o[3]}:(o=Z.hsla.exec(e))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=Z.hsv.exec(e))?{h:o[1],s:o[2],v:o[3]}:(o=Z.hsva.exec(e))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=Z.hex8.exec(e))?{a:G(o[1]),r:R(o[2]),g:R(o[3]),b:R(o[4]),format:t?"name":"hex8"}:(o=Z.hex6.exec(e))?{r:R(o[1]),g:R(o[2]),b:R(o[3]),format:t?"name":"hex"}:!!(o=Z.hex3.exec(e))&&{r:R(o[1]+""+o[1]),g:R(o[2]+""+o[2]),b:R(o[3]+""+o[3]),format:t?"name":"hex"}}function H(e){var t,o;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),o=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==o&&"large"!==o&&(o="small"),{level:t,size:o}}var z=/^\s+/,F=/\s+$/,P=0,T=e.round,E=e.min,N=e.max,j=e.random;t.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,o,i,n,a,s,r=this.toRgb();return t=r.r/255,o=r.g/255,i=r.b/255,n=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),a=o<=.03928?o/12.92:e.pow((o+.055)/1.055,2.4),s=i<=.03928?i/12.92:e.pow((i+.055)/1.055,2.4),.2126*n+.7152*a+.0722*s},setAlpha:function(e){return this._a=B(e),this._roundA=T(100*this._a)/100,this},toHsv:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s(this._r,this._g,this._b),t=T(360*e.h),o=T(100*e.s),i=T(100*e.v);return 1==this._a?"hsv("+t+", "+o+"%, "+i+"%)":"hsva("+t+", "+o+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n(this._r,this._g,this._b),t=T(360*e.h),o=T(100*e.s),i=T(100*e.l);return 1==this._a?"hsl("+t+", "+o+"%, "+i+"%)":"hsla("+t+", "+o+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return l(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return u(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:T(this._r),g:T(this._g),b:T(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+T(this._r)+", "+T(this._g)+", "+T(this._b)+")":"rgba("+T(this._r)+", "+T(this._g)+", "+T(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:T(100*$(this._r,255))+"%",g:T(100*$(this._g,255))+"%",b:T(100*$(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+T(100*$(this._r,255))+"%, "+T(100*$(this._g,255))+"%, "+T(100*$(this._b,255))+"%)":"rgba("+T(100*$(this._r,255))+"%, "+T(100*$(this._g,255))+"%, "+T(100*$(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var o="#"+u(this._r,this._g,this._b,this._a),i=o,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=t(e);i=a.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+o+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var o=!1,i=this._a<1&&this._a>=0,n=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return n?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(o=this.toRgbString()),"prgb"===e&&(o=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(o=this.toHexString()),"hex3"===e&&(o=this.toHexString(!0)),"hex8"===e&&(o=this.toHex8String()),"name"===e&&(o=this.toName()),"hsl"===e&&(o=this.toHslString()),"hsv"===e&&(o=this.toHsvString()),o||this.toHexString())},clone:function(){return t(this.toString())},_applyModification:function(e,t){var o=e.apply(null,[this].concat([].slice.call(t)));return this._r=o._r,this._g=o._g,this._b=o._b,this.setAlpha(o._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},t.fromRatio=function(e,o){if("object"==typeof e){var i={};for(var n in e)e.hasOwnProperty(n)&&("a"===n?i[n]=e[n]:i[n]=D(e[n]));e=i}return t(e,o)},t.equals=function(e,o){return!(!e||!o)&&t(e).toRgbString()==t(o).toRgbString()},t.random=function(){return t.fromRatio({r:j(),g:j(),b:j()})},t.mix=function(e,o,i){i=0===i?0:i||50;var n,a=t(e).toRgb(),s=t(o).toRgb(),r=i/100,l=2*r-1,u=s.a-a.a;n=l*u==-1?l:(l+u)/(1+l*u),n=(n+1)/2;var p=1-n,c={r:s.r*n+a.r*p,g:s.g*n+a.g*p,b:s.b*n+a.b*p,a:s.a*r+a.a*(1-r)};return t(c)},t.readability=function(o,i){var n=t(o),a=t(i);return(e.max(n.getLuminance(),a.getLuminance())+.05)/(e.min(n.getLuminance(),a.getLuminance())+.05)},t.isReadable=function(e,o,i){var n,a,s=t.readability(e,o);switch(a=!1,n=H(i),n.level+n.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7}return a},t.mostReadable=function(e,o,i){var n,a,s,r,l=null,u=0;i=i||{},a=i.includeFallbackColors,s=i.level,r=i.size;for(var p=0;p<o.length;p++)n=t.readability(e,o[p]),n>u&&(u=n,l=t(o[p]));return t.isReadable(e,l,{level:s,size:r})||!a?l:(i.includeFallbackColors=!1,t.mostReadable(e,["#fff","#000"],i))};var V=t.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=t.hexNames=_(V),Z=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",o="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",n="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?";return{CSS_UNIT:new RegExp(o),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):window.tinycolor=t}(Math);var country_arr=new Array("Afghanistan","Albania","Algeria","American Samoa","Angola","Anguilla","Antartica","Antigua and Barbuda","Argentina","Armenia","Aruba","Ashmore and Cartier Island","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Clipperton Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo, Democratic Republic of the","Congo, Republic of the","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Europa Island","Falkland Islands (Islas Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern and Antarctic Lands","Gabon","Gambia, The","Gaza Strip","Georgia","Germany","Ghana","Gibraltar","Glorioso Islands","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City)","Honduras","Hong Kong","Howland Island","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Ireland, Northern","Israel","Italy","Jamaica","Jan Mayen","Japan","Jarvis Island","Jersey","Johnston Atoll","Jordan","Juan de Nova Island","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia, Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Man, Isle of","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Midway Islands","Moldova","Monaco","Mongolia","Montserrat","Morocco","Mozambique","Namibia","Nauru","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcaim Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romainia","Russia","Rwanda","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Scotland","Senegal","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and South Sandwich Islands","Spain","Spratly Islands","Sri Lanka","Sudan","Suriname","Svalbard","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Tobago","Toga","Tokelau","Tonga","Trinidad","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","USA","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands","Wales","Wallis and Futuna","West Bank","Western Sahara","Yemen","Yugoslavia","Zambia","Zimbabwe");$(document).ready(function(){function e(e){e.selected?i(e.id,e.title):n(e.id)}function t(t,o){$("div#"+t).remove(),$("#maps").append('<div id="map'+($(".map").length+1)+'" country="'+t+'" class="mapsvg mapsvg-responsive map" style="width: 350px"></div><div country="'+t+'">'+o+' <a href="/moving/movers/preferences/remove/country/'+t+'" country="'+t+'" class="btn small green removeButton">remove</a></div>');var i=$(".map").length;$("#map"+i).mapSvg({source:"/moving/public/maps/geo-calibrated/"+t+".svg",responsive:1,zoom:{on:0},scroll:{on:0},menu:{on:1,containerId:"mapsvg-menu"},multiSelect:!0,colors:{baseDefault:"#e5e5e5",background:"rgba(238,238,238,0)",selected:30,hover:18,base:"#a18c8c",stroke:"#ffffff"},popovers:{mode:function(){e(this)},on:!0,priority:"local"}})}function o(e){$("input[value='"+e+"']").each(function(){$(this).parent().remove()}),$('div[country="'+e+'"]').remove(),$(".hidden-items").append('<div class="deleted_country" id="'+e+'"><input type="hidden" name="country_delete[]" value="'+e+'"></div>')}function i(e,t){$(".hidden-items").append('<div id="'+e+'"><input type="hidden" name="region_name[]" value="'+t+'"><input type="hidden" name="identifier[]" value="'+e+'"><input type="hidden" name="country[]" value="'+e.substring(0,2)+'"><input type="hidden" name="user_id[]" value="'+userId+'"> </div>')}function n(e){$("div#"+e).remove()}for(var a=0;a<2;a++){$("#map"+a).mapSvg({source:"/moving/public/maps/geo-calibrated/"+$("#map"+a).attr("country")+".svg",responsive:1,zoom:{on:0},scroll:{on:0},menu:{on:1,containerId:"mapsvg-menu"},multiSelect:!0,colors:{baseDefault:"#e5e5e5",background:"rgba(238,238,238,0)",selected:30,hover:18,base:"#a18c8c",stroke:"#ffffff"},popovers:{mode:function(){e(this)},on:!0,priority:"local"},afterLoad:function(){for(var e=this,t=0;t<parseInt($("#map_regions_selected").html());t++)e.selectRegion($("#map_region"+t).html())}})}$("#country").live("change",function(){t($(this).val().toLowerCase().replace(/\s/g,"-"),$(this).val())}),$(".removeButton").live("click",function(){return o($(this).attr("country")),$(this).remove(),!1}),populateCountries("country")});